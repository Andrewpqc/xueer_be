{"version":3,"sources":["webpack:///./js/comment.js"],"names":[],"mappings":"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","file":"comment.bundle.js","sourcesContent":["/**\n * comment.js\n *\n * authored by zindex\n */\n\n\n/**\n * React component for Comment Box\n */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n//var  ReactCSSTransitionGroup = require('../node_modules/react/lib/ReactCSSTransitionGroup');\nvar  ReactCSSTransitionGroup = require('react-addons-css-transition-group');\nclass TagDeletable extends React.Component{\n\tconstructor(){\n\t\tsuper()\n\t\tthis.state = {show:false}\n\t}\n\trender(){\n\t\tconst showStyle = {display:'block'}\n\t\treturn <span className=\"tag va_item cp tag_warpper\"\n\t\t onClick={() => this.props._onClickedHandler(this.props.data,this.props.id||null)} \n\t\t onMouseEnter={() => this.setState({show:true})}\n\t\t onMouseLeave={() => this.setState({show:false})}>\n\t\t\t\t\t\t{ this.props.data }\n\t\t\t\t\t\t<span className=\"tag tag_overlay\" style={this.state.show ? showStyle:null}>删除</span>\n\t\t\t\t\t</span>\n\n\t}\n}\n\n\nconst Tag = (props) => {\n\treturn <span className=\"tag va_item cp tag_warpper\"\n\t\t\t\t\t\tonClick={() => props._onClickedHandler(props.data,props.id||null)}>\n\t\t\t\t\t\t{ props.data }\n\t\t\t\t\t</span>\n}\n\nconst Tags = (props) => {\n\treturn <div className=\"tags va_item space\">{ props.children }</div>\n}\n\nconst HotTags = (props) => {\n\treturn <div className=\"hot_tags margin_auto space\">{ props.children }</div>\n}\n\nclass NewTag extends React.Component{\n\tconstructor(){\n\t\tsuper();\n\t\tthis._onKeyDownHandler = this._onKeyDownHandler.bind(this);\n\t}\n\t_onClickHandler(){\n\t\tvar value = this.refs.input.value;\n\t\tif(value){\n\t\t\tthis.props._onClickedHandler(value);\n\t\t}\n\t\tthis.refs.input.value = null;\n\t}\n\t_onKeyDownHandler(e){\n\t\tif (e.keyCode == 32){\n\t\t\te.preventDefault();\n\t\t\tthis.props._onAddHandler(e.target.value);\n\t\t\te.target.value = null;\n\t\t\te.target.focus();\n\t\t}\n\t\t//if(e.key == \"Backspace\" && e.target.value == \"\"){\n\t\t//\tthis._onRemoveDataHandler();\n\t\t//}\n\t}\n\trender(){\n\t\treturn <div className=\"new_tag va_item\">\n\t\t\t\t\t\t<input type=\"text\" className=\"new_tag_input\" placeholder=\"输入标签，用空格间隔\" ref=\"input\" onKeyDown={this._onKeyDownHandler}/>\n\t\t\t    </div>\n\t}\n}\n\n//main box component\nclass CommentBox extends React.Component {\n\tconstructor(){\n\t\tsuper();\n\t\tthis.state = {tags:[]};\n\t\tthis._onAddDataHandler = this._onAddDataHandler.bind(this);\n\t\tthis._onDeleteDataHandler = this._onDeleteDataHandler.bind(this);\n\t}\n\t_onAddDataHandler(val){\n\t\tvar arr = this.state.tags\n\t\tfor(var i=0;i<arr.length;i++){\n\t\t\tif(arr[i] === val){\n\t\t\t\talert(\"请勿重复添加！\")\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tthis.setState({tags: this.state.tags.concat(val)})\n\t}\n\t_onDeleteDataHandler(val,id){\n\t\tconsole.log(val,id)\n\t\tvar temp_arr = this.state.tags;\n\t\ttemp_arr.splice(id, 1);\n\t\tthis.setState({tags: temp_arr});\n\t}\n\trender() {\n  \t\tvar hot_tags = [],current_tags = [];\n  \t \tthis.props.hot_tags.map((x,i) => hot_tags.push(<Tag key={i} data={x} _onClickedHandler={this._onAddDataHandler}/>));\n  \t \tthis.state.tags.map((x,i) => current_tags.push(<TagDeletable key={i} data={x} id={i} _onClickedHandler={this._onDeleteDataHandler}/>));\n     \treturn  <div>\n     \t\t\t\t<textarea className=\"textarea\" name=\"body\"></textarea>\n     \t\t\t\t<div className=\"tags_box space\">\n     \t\t\t\t\t<Tags>\n     \t\t\t\t \t\t<ReactCSSTransitionGroup transitionName=\"tags\" transitionAppearTimeout={300} transitionEnterTimeout={300} transitionLeaveTimeout={300}>\n     \t\t\t\t\t\t{current_tags}\n     \t\t\t\t\t\t</ReactCSSTransitionGroup>\n     \t\t\t\t\t</Tags>\n     \t\t\t\t\t<NewTag _onClickedHandler={this._onAddDataHandler} _onAddHandler={this._onAddDataHandler}/>\n     \t\t\t\t</div>\n     \t\t\t\t<div className=\"tag_head\">\n        \t\t\t\t热门标签，点击直接添加\n    \t\t\t\t</div>\n    \t\t\t\t<HotTags _onAddHandler={this._onAddDataHandler}>{hot_tags}</HotTags>\n    \t\t\t\t<input type=\"text\" name=\"tags\" value={ this.state.tags.join(\" \")} className=\"comment_tags_input\"></input>\n    \t\t\t\t<button type=\"submit\" className=\"submit_bt tc margin_auto\">发布评论</button>\n     \t\t\t</div>\n  }\n}\n\n//init comment box\nif (document.querySelector(\".comment_box_x\")){\n\tvar tags = document.querySelector(\".comment_box_x\").innerHTML.split(\" \");\n\tReactDOM.render( <CommentBox  hot_tags={tags}/> , document.querySelector(\".comment_box_x\"));\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/comment.js\n **/"],"sourceRoot":""}